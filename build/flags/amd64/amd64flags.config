# amd64flags.config

# Description: Flags of the arch

# Copyright 2016 The Takao Authors (AUTHORS.md). All rights reserved.
# Use of this source code is governed by a license that can be
# found in the LICENSE.md file, in the root directory of
# the source package.

cppflags_main = -ffreestanding -fno-stack-protector -fpic -fno-builtin -fshort-wchar -mno-red-zone \
	-Wall -Wextra -fno-exceptions -fno-rtti -std=c++17 -c -o

cppflags_lib = -ffreestanding -fno-stack-protector -fpic -fno-builtin -fshort-wchar -mno-red-zone \
	-Wall -Wextra -fno-exceptions -fno-rtti -std=c++17 -c -o

cppflags_common = -I ../includes -I ../lib -ffreestanding -fno-stack-protector -fpic -fno-builtin -fshort-wchar -mno-red-zone \
	-Wall -Wextra -fno-exceptions -fno-rtti -std=c++17 -c -o

cppflags_arch = -I ../../includes -I ../../lib -fno-stack-protector -fpic -fno-builtin \
	-fno-builtin-fshort-wchar -mno-red-zone -fno-exceptions -fno-rtti -std=c++17 -c -o

# Linker

linkerfile = build/link/$(arch)-$(firmware)/elf.lds
linker_flags = -nostdlib -znocombreloc -T $(linkerfile) -shared -Bsymbolic
